<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-H1EZT1Q9H0"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-H1EZT1Q9H0');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peruse</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/peruse.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
</head>
<body>

    <main class="parent">
        <div class="child">
            <div class="Longread-ArticleB"></div>
        </div>

        <div class="child">
            <div class="Article-Header-Image"></div>
        </div>
        <div class="child">
            <header class="header">
                <a href="../html/peruse.html">
                    <img src="../Images/Peruse/PERUSE.png" alt="Peruse Logo" class="logo">
                </a>
                <button href="javascript:void(0);" class="icon burger-menu" onclick="myFunction()">☰</button>
            </header>
        
            <div class="topnav">
                <div id="myLinks">
                    <a href="#news" id="toggle-visibility"><h3>Unhide</h3></a>
                    <a href="#contact"><h3>Contact</h3></a>
                    <a href="#about"><h3>About</h3></a>
                </div>
            </div>
        </div>
        <div class="child">
            <div class="Longread-Content">
                <div class="metabubbles">
                    <span class="tag finance">finance</span>
                    <span class="tag feature">
                        <img src="../Images/Peruse/Map.png" alt="">
                    </span>
                </div>
                <h2>Saudi’s running out of oil, Oil reserve data 4</h2>
                <p>Recordings and interviews reveal he felt a growing discontent society and was increasingly isolated even with his local.</p>
            
            <div class="Longread-meta">
                <h4>4 min read</h4>
               <p>Jan 04, 2024</p>
            </div>

            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris sollicitudin lacus sed elit egestas tincidunt. Integer non egestas lorem, in convallis odio. Nulla facilisi. Cras at congue ligula. Ut pharetra rutrum magna, vel euismod libero hendrerit vitae. Aenean varius congue nibh vel porttitor. Aenean sagittis laoreet augue sed semper. Duis pellentesque turpis et mauris accumsan rutrum.

                Sed pretium diam nec orci aliquet blandit. Nam ac quam et metus rhoncus tincidunt. Etiam vel turpis quis nulla placerat blandit eget aliquet arcu. Integer id dictum dolor, ut tincidunt sem. Cras ac rhoncus arcu. Integer iaculis neque tortor. Maecenas mattis dui in ex aliquam viverra. In nec mauris dui. Curabitur quis faucibus sapien, ac tempus mauris.
                
                Fusce ultricies purus vel magna egestas venenatis fermentum ac purus. Sed non commodo ligula. Vestibulum ut magna efficitur, sodales tortor id, condimentum libero. Phasellus volutpat arcu vitae libero feugiat scelerisque. Mauris est felis, euismod sed justo a, ornare eleifend massa. Ut placerat mauris at sapien elementum posuere. Fusce quis tristique ligula. Donec porta elit a odio placerat tempus.
                
                Integer ut viverra ex. Aenean ligula turpis, malesuada ut faucibus sed, dapibus sed ligula. Fusce placerat, neque at tempor blandit, turpis arcu tincidunt enim, in iaculis augue tellus pellentesque dolor. Maecenas pharetra est id sodales gravida. Donec nunc libero, consectetur et elementum id, semper ut justo. Morbi sit amet nisl sagittis, scelerisque ante vitae, fermentum ex. Fusce rutrum bibendum nulla eget lobortis. Donec tempus euismod lectus, vel maximus lorem commodo nec. Duis arcu odio, molestie at ex vitae, ullamcorper faucibus massa. Praesent facilisis dolor risus, nec faucibus nisl egestas sed.
                
                Nullam eleifend quis purus ac posuere. Morbi sagittis magna ut malesuada vestibulum. Integer porttitor orci quis turpis vestibulum, non tempus odio sagittis. Donec augue nunc, tempus sed ligula vehicula, sodales tempus orci. Praesent sollicitudin odio sit amet arcu commodo, et euismod risus maximus. Aenean dolor nibh, sollicitudin vitae scelerisque et, semper in sem. Praesent nibh urna, consequat et purus quis, sodales sollicitudin justo. Donec elementum sollicitudin nunc in feugiat. In vitae sollicitudin ante. Vestibulum vel auctor ipsum.</p>



                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris sollicitudin lacus sed elit egestas tincidunt. Integer non egestas lorem, in convallis odio. Nulla facilisi. Cras at congue ligula. Ut pharetra rutrum magna, vel euismod libero hendrerit vitae. Aenean varius congue nibh vel porttitor. Aenean sagittis laoreet augue sed semper. Duis pellentesque turpis et mauris accumsan rutrum.

                    Sed pretium diam nec orci aliquet blandit. Nam ac quam et metus rhoncus tincidunt. Etiam vel turpis quis nulla placerat blandit eget aliquet arcu. Integer id dictum dolor, ut tincidunt sem. Cras ac rhoncus arcu. Integer iaculis neque tortor. Maecenas mattis dui in ex aliquam viverra. In nec mauris dui. Curabitur quis faucibus sapien, ac tempus mauris.
                    
                    Fusce ultricies purus vel magna egestas venenatis fermentum ac purus. Sed non commodo ligula. Vestibulum ut magna efficitur, sodales tortor id, condimentum libero. Phasellus volutpat arcu vitae libero feugiat scelerisque. Mauris est felis, euismod sed justo a, ornare eleifend massa. Ut placerat mauris at sapien elementum posuere. Fusce quis tristique ligula. Donec porta elit a odio placerat tempus.
                    
                    Integer ut viverra ex. Aenean ligula turpis, malesuada ut faucibus sed, dapibus sed ligula. Fusce placerat, neque at tempor blandit, turpis arcu tincidunt enim, in iaculis augue tellus pellentesque dolor. Maecenas pharetra est id sodales gravida. Donec nunc libero, consectetur et elementum id, semper ut justo. Morbi sit amet nisl sagittis, scelerisque ante vitae, fermentum ex. Fusce rutrum bibendum nulla eget lobortis. Donec tempus euismod lectus, vel maximus lorem commodo nec. Duis arcu odio, molestie at ex vitae, ullamcorper faucibus massa. Praesent facilisis dolor risus, nec faucibus nisl egestas sed.
                    
                    Nullam eleifend quis purus ac posuere. Morbi sagittis magna ut malesuada vestibulum. Integer porttitor orci quis turpis vestibulum, non tempus odio sagittis. Donec augue nunc, tempus sed ligula vehicula, sodales tempus orci. Praesent sollicitudin odio sit amet arcu commodo, et euismod risus maximus. Aenean dolor nibh, sollicitudin vitae scelerisque et, semper in sem. Praesent nibh urna, consequat et purus quis, sodales sollicitudin justo. Donec elementum sollicitudin nunc in feugiat. In vitae sollicitudin ante. Vestibulum vel auctor ipsum.</p>

                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris sollicitudin lacus sed elit egestas tincidunt. Integer non egestas lorem, in convallis odio. Nulla facilisi. Cras at congue ligula. Ut pharetra rutrum magna, vel euismod libero hendrerit vitae. Aenean varius congue nibh vel porttitor. Aenean sagittis laoreet augue sed semper. Duis pellentesque turpis et mauris accumsan rutrum.

                        Sed pretium diam nec orci aliquet blandit. Nam ac quam et metus rhoncus tincidunt. Etiam vel turpis quis nulla placerat blandit eget aliquet arcu. Integer id dictum dolor, ut tincidunt sem. Cras ac rhoncus arcu. Integer iaculis neque tortor. Maecenas mattis dui in ex aliquam viverra. In nec mauris dui. Curabitur quis faucibus sapien, ac tempus mauris.
                        
                        Fusce ultricies purus vel magna egestas venenatis fermentum ac purus. Sed non commodo ligula. Vestibulum ut magna efficitur, sodales tortor id, condimentum libero. Phasellus volutpat arcu vitae libero feugiat scelerisque. Mauris est felis, euismod sed justo a, ornare eleifend massa. Ut placerat mauris at sapien elementum posuere. Fusce quis tristique ligula. Donec porta elit a odio placerat tempus.
                        
                        Integer ut viverra ex. Aenean ligula turpis, malesuada ut faucibus sed, dapibus sed ligula. Fusce placerat, neque at tempor blandit, turpis arcu tincidunt enim, in iaculis augue tellus pellentesque dolor. Maecenas pharetra est id sodales gravida. Donec nunc libero, consectetur et elementum id, semper ut justo. Morbi sit amet nisl sagittis, scelerisque ante vitae, fermentum ex. Fusce rutrum bibendum nulla eget lobortis. Donec tempus euismod lectus, vel maximus lorem commodo nec. Duis arcu odio, molestie at ex vitae, ullamcorper faucibus massa. Praesent facilisis dolor risus, nec faucibus nisl egestas sed.
                        
                        Nullam eleifend quis purus ac posuere. Morbi sagittis magna ut malesuada vestibulum. Integer porttitor orci quis turpis vestibulum, non tempus odio sagittis. Donec augue nunc, tempus sed ligula vehicula, sodales tempus orci. Praesent sollicitudin odio sit amet arcu commodo, et euismod risus maximus. Aenean dolor nibh, sollicitudin vitae scelerisque et, semper in sem. Praesent nibh urna, consequat et purus quis, sodales sollicitudin justo. Donec elementum sollicitudin nunc in feugiat. In vitae sollicitudin ante. Vestibulum vel auctor ipsum.</p>
        



        </div>
        </div>
    </main>

        <footer class="footer">
            <div id="back-to-top" class="footerdiv">
                <div class="scrollwatcher"></div>
                <br>
                <h4><a href="#top">BACK TO TOP</a></h4>
            </div>
        </footer>
    

    <script>
        
                document.addEventListener("scroll", function () {
            const article = document.querySelector(".Longread-ArticleB");
            const scrollY = window.scrollY;
            const maxScroll = document.documentElement.scrollHeight - window.innerHeight;
            const fadeStart = 0; // Start changing color immediately
            const fadeEnd = maxScroll * 0.5; // Fully black at 50% scroll

            if (scrollY >= fadeStart && scrollY <= fadeEnd) {
                let progress = (scrollY - fadeStart) / (fadeEnd - fadeStart);
                let r = Math.round(69 * (1 - progress)); // 69 → 0
                let g = Math.round(18 * (1 - progress)); // 18 → 0
                let b = Math.round(18 * (1 - progress)); // 18 → 0
                article.style.backgroundColor = `rgb(${r}, ${g}, ${b})`;
            } else if (scrollY > fadeEnd) {
                article.style.backgroundColor = "#000000"; // Fully black
            } else {
                article.style.backgroundColor = "#451212"; // Initial color
            }
        });

        document.addEventListener("DOMContentLoaded", function () {
            const options = ["A1", "A2", "A3", "A4"];
            const storageKey = "selectedAOption";

            let selectedOptionIndex = localStorage.getItem(storageKey);

            if (!selectedOptionIndex) {
                selectedOptionIndex = Math.floor(Math.random() * options.length);
                localStorage.setItem(storageKey, selectedOptionIndex);
            }

            const selectedOption = options[selectedOptionIndex];

            document.getElementById(selectedOption).classList.remove("hidden");
            document.getElementById(selectedOption).classList.add("visible");

            // Add event listener to the "Show All/Hide All" link
            const toggleLink = document.getElementById("toggle-visibility");
            let isShowingAll = false; // Tracks whether all articles are visible

            toggleLink.addEventListener("click", function (e) {
                e.preventDefault(); // Prevent default anchor behavior

                if (isShowingAll) {
                    // Hide all articles except the selected one
                    options.forEach(optionId => {
                        if (optionId !== selectedOption) {
                            const element = document.getElementById(optionId);
                            element.classList.remove("visible");
                            element.classList.add("hidden");
                        }
                    });
                    toggleLink.innerHTML = "<h3>Show All</h3>";
                } else {
                    // Show all articles
                    options.forEach(optionId => {
                        const element = document.getElementById(optionId);
                        element.classList.remove("hidden");
                        element.classList.add("visible");
                    });
                    toggleLink.innerHTML = "<h3>Hide</h3>";
                }

                isShowingAll = !isShowingAll; // Toggle state
            });

            // Add event listener to the submit button
            document.getElementById('submitButton').addEventListener('click', async function() {
                const sliderValue = document.getElementById('rangeSlider').value;

                // Use the selected article from localStorage
                const selectedArticle = options[localStorage.getItem(storageKey)];

                const { data, error } = await supabase
                    .from('user_interactions')
                    .insert([{ slider_values: sliderValue, article_number: selectedArticle }]);

                if (error) {
                    console.error('Error inserting value:', error);
                } else {
                    console.log('Value inserted successfully:', data);
                }
            });
        });

        const scrollWatcher = document.querySelector('.scrollwatcher');

        window.addEventListener('scroll', () => {
            const scrollTop = window.scrollY;
            const docHeight = document.documentElement.scrollHeight - window.innerHeight;
            const progress = Math.min(scrollTop / docHeight, 1);
            scrollWatcher.style.transform = `scaleX(${progress})`;
        });

        function myFunction() {
            var x = document.getElementById("myLinks");
            if (x.style.display === "block") {
                x.style.display = "none";
            } else {
                x.style.display = "block";
            }
        }

        document.querySelectorAll('.scroll div').forEach(div => {
            const contentWidth = Array.from(div.children).reduce((total, child) => total + child.offsetWidth + 20, 0);
            div.style.width = `${contentWidth}px`;
        });

        document.addEventListener("DOMContentLoaded", function () {
            const backToTopButton = document.getElementById("back-to-top");

            const toggleVisibility = () => {
                const isScrollable = document.body.scrollHeight > window.innerHeight;
                const isScrolled = window.scrollY > 0;

                if (isScrollable && isScrolled) {
                    backToTopButton.classList.add("visible");
                } else {
                    backToTopButton.classList.remove("visible");
                }
            };

            backToTopButton.addEventListener("click", () => {
                window.scrollTo({ top: 0, behavior: "smooth" });
            });

            window.addEventListener("scroll", toggleVisibility);
            window.addEventListener("resize", toggleVisibility);

            // Initial check
            toggleVisibility();
        });
    </script>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>
</html>
