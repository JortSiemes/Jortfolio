<!DOCTYPE html>
<html lang="en">
<head>

    <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-H1EZT1Q9H0"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-H1EZT1Q9H0');
        </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peruse</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/peruse.css">
</head>

<body>

    <body>
        <header class="header">
            <a href="../html/peruse.html">
            <img src="../Images/Peruse/PERUSE.png" alt="Peruse Logo" class="logo">
            </a>
            
                <button href="javascript:void(0);" class="icon burger-menu" onclick="myFunction()">☰</button>
        </header>

        <div class="topnav">
            <div id="myLinks">
                <a href="#news" id="toggle-visibility"><h3>Unhide</h3></a>
                <a href="#contact"><h3>Contact</h3></a>
                <a href="#about"><h3>About</h3></a>
            </div>
        </div>

        <main class="Longread">
            <div id="B" class="article">
                        <img src="../Images/Peruse/nature-silhouette-sky-sunrise-sunset-sunlight-1129460-pxhere.com_.png" alt="Oil reserves" class="article-image">
                    <div class="Longread-Text">
                        <div class="metabubbles">
                            <span class="longread-date">28 Sept 2024</span>
                            <span class="tag finance">Finance</span>
                            <span class="tag feature"><img src="../Images/Peruse/Map.png" alt=""></span>
                        </div>
                        <br>
                        <div class="article-content">
                            <h1>Saudi’s running out of oil, Oil reserve data</h1>
                        </div>
                        <h4>Recordings and interviews reveal he felt a growing discontent with american society and was increasingly isolated even with his local muslim community</p>
                       
                    </div>

                    <label for="rangeSlider">Select a value:</label>
                    <input type="range" id="rangeSlider" name="rangeSlider" min="0" max="100">
                    <button id="submitButton">Submit</button>
    
            </div>
           
        </main>
        <footer class="footer">
            <div id="back-to-top" class="footerdiv">
                <div class="scrollwatcher"></div>
                <br>
                <h4><a href="#top">BACK TO TOP</a></h4>
            </div>
        </footer>

        <script>

const url = 'https://script.google.com/macros/s/AKfycbxC-N1v4VCHfSzgtn4-8rywUonQlh_TklgaBez8CjU9jQl8ArItm3wz1UIYO6LUPT2PiQ/exec'; // Replace with your FormEasy URL
  const storageKey = "selectedAOption";
  const userIdKey = "userId";
  const options = ["A1", "A2", "A3", "A4"];

  // Generate or retrieve user ID
  let userId = localStorage.getItem(userIdKey);
  if (!userId) {
    userId = "user_" + Math.random().toString(36).substr(2, 9);
    localStorage.setItem(userIdKey, userId);
  }

  // Assign or retrieve article selection
  let selectedOptionIndex = localStorage.getItem(storageKey);
  if (!selectedOptionIndex) {
    selectedOptionIndex = Math.floor(Math.random() * options.length);
    localStorage.setItem(storageKey, selectedOptionIndex);
  }
  const selectedArticle = options[selectedOptionIndex];

  // Update slider value display
  document.getElementById("rating").addEventListener("input", function () {
    document.getElementById("rating-value").innerText = this.value;
  });

  // Send data to Google Sheets
  document.getElementById("submit-rating").addEventListener("click", function () {
    const rating = document.getElementById("rating").value;
    const data = { userId, article: selectedArticle, rating };

    fetch(url, {
      method: 'POST',
      headers: { 'Content-Type': 'text/plain;charset=utf-8' },
      body: JSON.stringify(data),
    })
    .then(response => response.json())
    .then(data => console.log("Success:", data))
    .catch(error => console.error("Error:", error));
  });


          </script>
    
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>    
</body>
</html>