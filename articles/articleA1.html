<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-H1EZT1Q9H0"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-H1EZT1Q9H0');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peruse - A1</title>
    <link rel="icon" type="image/x-icon" href="../Images/Icon_Large_m.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/peruse.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
</head>
<body>

    <main class="parent">
        <div class="child">
            <div class="Longread-ArticleA"></div>
        </div>

        <div class="child">
            <div class="Article-Header-ImageA"></div>
        </div>
        <div class="child">
            <header class="header">
                <a href="../html/peruse.html">
                    <img src="../Images/Peruse/PERUSE.png" alt="Peruse Logo" class="logo">
                </a>
                <button href="javascript:void(0);" class="icon burger-menu" onclick="myFunction()">☰</button>
            </header>
        
            <div class="topnav">
                <div id="myLinks">
                    <a href="#news" id="toggle-visibility"><h3>Unhide</h3></a>
                    <a href="#contact"><h3>Contact</h3></a>
                    <a href="#about"><h3>About</h3></a>
                </div>
            </div>
        </div>
        <div class="child">
            <div class="Longread-Content">
                <div class="metabubbles2">
                    <span class="tag2 culture">cultuur</span>
                    <span class="tag2 feature2">
                        <img src="../Images/Peruse/Map.png" alt="">
                    </span>
                </div>
                <div class="Longread-Title">
                <h2>Vijf sterren is passé: Het Amsterdamse zessterrenhotel</h2>
                <p>In Amsterdam opent volgende maand het Rosewood Hotel zijn deuren, een zogenoemd zessterrenhotel, dat zich richt op de reiziger die luxe gewend is. Maar wat moeten we ons voorstellen bij zes sterren? Hoe ziet die service eruit? We gingen te rade bij experts in de wereld van de haute hôtellerie.</p>
                </div>
                <div class="parent-container">
                  <div class="Longread-meta">
                    <h4>3 min read</h4>
                    <p>Apr 07, 2025</p>
                  </div>
                
                  <div class="SettingsButtons"> 
                    <button id="aa-button" class="rating-button compact">
                      <span id="aa-label"><h4>Aa</h4></span>
                      <input type="range" min="0" max="30" value="10" step="10" class="rating-slider visible form-range" id="aa-slider">
                    </button>
                  </div>
                 </div>
            <br><hr />
            <div class="Main-Longread">
                <div class="Longread-Header"></div>
                <p id="article-text">Even ontnuchteren. Een zessterrenhotel? Dat bestaat niet. Er is geen enkele instantie die die kwalificatie verstrekt. Het CBS telt in Amsterdam 31 vijfsterrenhotels met een zeer compleet aanbod. Maar daaronder zijn een paar hotels die blijkbaar nóg een stapje extra doen voor de gast. Zes sterren, dus hors catégorie.

                  <br><br>
                  Mogelijk kan het Amsterdamse Conservatorium Hotel, uit 2011, zich zo kwalificeren. Het Waldorf Astoria valt er zeker onder. Dat hotel opende in 2014 de deuren en is onderdeel van Hilton Worldwide. </p>
                  

                  <div class="Animation-content-container">
                    <div class="text-content">
                      <p id="article-text">
                        Wat ze gemeen hebben met het nieuwe Rosewood Hotel, dat op 1 mei zijn deuren opent aan de Prinsengracht, is dat hun tweepersoonskamers beginnen bij: 
                        </p>
                        </div>
                        <div class="Number-Animation">
                          <h2>
                            <div id="countup-number" data-target="1000">€0</div>
                          </h2>
                          <h4>per nacht</h4>
                        </div>
                  </div>
                 
                  <p id="article-text"> Maar het Rosewood heeft ook een suite van 210 vierkante meter, die vijftien keer zoveel kost. Die heeft een slaapkamer, een woonkamer en een eetkamer en uitzicht op de toren van de Westerkerk. </p>

                  


                <div class="room-offer-box">
    
                  <div class="offer-details">
                      <h4>1 x LIBRARY HOUSE</h4>
                      <p class="subtle-text">Privésuite</p>
                      
                      
                      <h5>Kenmerken:</h5>
                      <ul>
                          <li>141 m²</li>
                          <li>Kingsize bed</li>
                          <li>Ontbijt € 52 (optioneel)</li>
                      </ul>
                      
                      <p class="urgency-text">Nog maar 1 beschikbaar</p>
                  </div>
              
                  <div class="offer-actions">
                                      
                      <p class="price-info">Inclusief belastingen en toeslagen</p>
                      
                      <div class="Interactive-RoomPick">
                        <button id="order-button" class="btn btn-primary">Reserveren</button>
                    </div>
                      
                      <p class="disclaimer">Geen zorgen er zijn geen kosten als je op deze knop drukt!</p>
                  </div>
                  </div>



                  <br><br>
                  <div class="Longform-Image Image1">
                  </div>
                  <div class="Imagebijschrift">
                    <p>Zakjes Extra Joss in het schap van een supermarkt.</p>
                  </div>

                  <br>

                  <h4>Geen script</h4>
                        
                  <p id="article-text">
                    De Rosewood Hotel Group is een hotelketen met 55 hotels in 24 landen, eigendom van de steenrijke Hongkongse vastgoedfamilie Cheng. Sonia Cheng, kleindochter van de pater familias, Henry Cheng, leidt het bedrijf. In 2011 nam de familie de van oorsprong Amerikaanse Rosewood-keten over. Sindsdien is Sonia Cheng bezig de hotels onder de Rosewood-vlag (de groep heeft ook nog andere merken) in een straf tempo uit te breiden. Op de site van het bedrijf wordt het merk omschreven als ultra-luxury. <br><br>
                    
                    Wat betekent dat? Wat omvat die fameuze zessterrenservice? Dat probeert Thomas Harlander, directeur van het Amsterdamse Rosewood, die voorafgaand aan de opening al tweeënhalf jaar op zijn post zit, zo goed mogelijk uit te leggen. ‘Elk luxehotel heeft zijn eigen credo en missie’, zegt Harlander. ‘In het Rosewood geven we iedere gast een tailormade behandeling. Waarom zou je iedereen hetzelfde behandelen? Er is geen script.’<br><br>
                    
                    Een voorbeeld van zo’n persoonlijke benadering kan hij wel geven. ‘De butler heeft ontdekt dat jouw favoriete parfum bijna op is. Kan gebeuren toch? Als je uitcheckt staat er een fris flesje, mooi verpakt. Dan hoef je niet zelf naar de winkel te gaan.’ <br><br>  
                  
                    Niet iedereen krijgt een cadeautje bij het afscheid. Een gast die van kunst houdt kan ook een app krijgen over de kunstcollectie van het hotel. Bijvoorbeeld. ‘We moeten de gast echt lezen en begrijpen. Dat is hard werken. Het gaat erom hoe ik je laat voelen. En dat voelen is iets dat je niet kunt beschrijven. Je voelt het. Het maakt je blij. We willen eigenlijk — ik hou van deze term — een irrationele loyaliteit creëren. Dat je niet meer denkt: is het een Rosewood, of een Hilton of een Four Seasons? Dat is hoe ik die zes sterren zou willen beschrijven.’
                  </p>

                  <h4>Niet in het reisprogramma</h4>
    
                  <p id="article-text">
                    Het is nog niet zo lang dat Amsterdam meedraait in de wereld van de exclusieve service voor een select gezelschap reizigers. Natuurlijk bezat de hoofdstad altijd al heel fraaie hotels waar de rich and famous neerstreken als ze hier waren uitgenodigd. Denk aan het Amstel Hotel. Maar voor een bepaalde groep welgestelde kosmopolieten zat Amsterdam tot voor kort eenvoudigweg niet in het reisprogramma. <br><br>

                    Harlander: ‘Amsterdam is zeker niet Londen, niet Parijs, niet New York, wat luxury betreft. Het is er wel, maar niet in your face. Dit is een stad om te ontdekken. Elke hoek, elke wijk is anders. Naar mijn mening is het aanbod aan restaurants en bars dramatisch verbeterd de laatste jaren. Is het wereldklasse? Dat is niet aan mij om te beoordelen, maar ik zie veel veranderingen.’ <br><br>

                    Die ziet Roberto Payer ook, een zeer ervaren collega van Harlander, die inmiddels met pensioen is. Payer was directeur van het Hilton Hotel in de stad toen hij kort na de kredietcrisis het idee lanceerde voor een Waldorf Astoria in Amsterdam. ‘Dat merk bestond helemaal niet, ook niet in Amerika. Het was vooral een legende’, zegt hij, doelend op het beroemde Waldorf Astoria-hotel in New York. Payer: ‘Mijn baas dacht dat ik gek geworden was. Ze geloofden niet in luxury in Amsterdam. Amsterdam kende geen luxury. Wel een goed hotel, ja. Maar niet luxury.’  <br><br>

                    Luxury is beleving, stelt Roberto Payer. ‘Als een gast aankomt bij het Waldorf Astoria-hotel, hoe denkt u dat de portier de deur van de auto opent? Eérst aan de rechterkant. Dan zet je je arm boven de opening van de deur, zodat niemand zich kan stoten. Dan aan de linkerkant. Het moet simpel zijn. Natuurlijk. Dat is luxury. U voelt het niet. Het is er.’ <br><br>

                    Het zit ’m in de details. Payer: ‘Je gaat €600 per nacht vragen, dat was destijds veel geld. Welke ervaring ging ik bieden die anders was dan de andere?’ Payer besloot Guerlain te vragen de spa te runnen. Het Franse parfumhuis heeft een beroemd wellnesscenter op de Parijse Champs-Élysées. ‘De massagebedden hebben een bepaalde breedte. De lakens zijn van linnen, heel dun en heel mooi. Het is een combinatie van service en hardware. De producten zijn goed, de training van de schoonheidsspecialistes is anders. Het is de sfeer.’ Het Rosewood heeft overigens zijn eigen merk spa, Asaya geheten. <br><br>

                    Voor de bedrijfskleding nodigde Payer destijds ontwerper Jan Taminiau uit, bekend van de koningsblauwe jurk voor Máxima. ‘Uniformen, dat is voor het leger’, zegt Payer. ‘Mensen moeten gekleed zijn. Als je een jurk kunt maken voor de koningin, zullen mijn jurken ook mooi zijn. Het gaat niet om duur. Het gaat om kwaliteit. De dame achter de receptie moet gewoon prachtig zijn.’ <br><br>
                  </p>

                  <h4>Iedere visite een evenement</h4>
    
                    <div class="Longform-Image Image1">
                    </div>
                    <div class="Imagebijschrift">
                      <p>Zakjes Extra Joss in het schap van een supermarkt.</p>
                    </div>

                    <p id="article-text">Inmiddels heeft hij dus die webshop en verkoopt hij in nog fysieke winkels in Nederland, waaronder vijftien supermarkten. Hij zegt vorig jaar een recordaantal van een miljoen zakjes te hebben verkocht. Groot zegt afgelopen jaar een omzet van zo’n €200.000 te hebben gedraaid. Over de winst deelt hij geen cijfers, wel geeft hij aan dat de import een grote kostenpost is. <br><br>
    
                      Ervan leven lukt nog niet, alhoewel hij de afzet elk jaar met zo’n 50% ziet toenemen. Naast zijn bedrijf werkt Groot als e-commercemanager bij Stichd, dochterbedrijf van sportmerk Puma. Dat vindt hij een prima combinatie, want wat hij leert over digitale marketing via Extra Joss, zet hij in voor zijn baan. <br><br> </p>

                      <h4>Carnaval en gala’s</h4>
                        
                     <p id="article-text">   Hoe promoot Groot Extra Joss? ‘In de aanloop naar carnaval heb ik een week lang TikTok-video’s geplaatst in carnavalsthema.’ De omzet lag rond die periode in Brabant zo’n vijf keer hoger dan buiten het carnavalseizoen. Ook Koningsdag, oud en nieuw en studentenfeesten zoals het driedaagse festival Kriminele in Delft zijn belangrijke feestdagen voor zijn handel. <br><br>
                        
                      Voor marketing zet Groot daarnaast in op studentenverenigingen. Hij zegt met bijna alle Nederlandse verenigingen een samenwerking te hebben. ‘Besturen van studentenverenigingen willen het niet van mij kopen om elke associatie met wit poeder te vermijden.’ Daarom geeft hij het gratis en belandt het in 'goodiebags' op studentengala’s. ‘Uiteindelijk bestellen mensen dan zelf online.’ <br><br>
                        
                      Het valt Groot op dat drugs in Nederland tegenwoordig niet echt meer een taboe zijn. ‘Studenten vragen me daarom weleens of je Extra Joss kunt snuiven. Dat is niet de bedoeling, je moet het drinken. Het schijnt onwijs te branden in je neus.’ Dat het wit poeder is waar je een energieboost van krijgt, wekt logischerwijs de associatie met harddrugs. Maar de effecten ervan zijn niet te vergelijken en het is legaal.</p> <br>

                      <h4>‘Niemand naar de kliniek’</h4>
    
                        <p id="article-text">‘Terwijl Red Bull en andere energiedranken minder populair worden, wint dit product terrein, vooral onder mensen die echt hard willen gaan’, ziet Paul Jansen van de Afkickkliniekwijzer. Afkickkliniekwijzer is een van de weinige internetpagina’s die iets over de werking en mogelijke voordelen of gevaren in kaart brengt. <br><br>
    
                          Het middel is relatief onschuldig, zegt Jansen. ‘Maar het gevaar is dat je veel langer door kunt en meer gaat drinken.’ Vooral jongeren, die gevoeliger zijn voor cafeïne en ‘snel over hun grens’ kunnen gaan. Te veel cafeïne kan leiden tot rusteloosheid, slapeloosheid en trillen. Bij een zeer grote hoeveelheid kan het tot cafeïnevergiftiging leiden. Dit komt vaker voor bij energiedrank dan bij koffie. <br><br>
                            
                          Is Extra Joss verslavend? ‘Verslaving is mogelijk’, zegt Jansen, ‘maar vergelijkbaar met cafeïne. Er gaat niemand voor naar de kliniek.’ <br><br>
                            
                          Het advies vanuit het merk Extra Joss is maximaal twee zakjes per dag. Blijft het daar in de praktijk bij? Nee, ‘er zijn soms wel gekken die tien zakjes op een avond drinken’, klinkt het onder studenten. Jaartsveld: ‘Ik denk dat de Nederlandse importeur hier héél goed aan verdient.’ <br><br> </p>
            
            </div>

            <br><br><br><br>

          
        </div>
        </div>

      </main>

      <div class="Rating"> 
        <h3>Beoordeling van geloofwaardigheid</h3>
        <p>
          De mate waarin een artikel geloofwaardig is: <br>
          gebaseerd op factoren zoals de deskundigheid van de auteur, de betrouwbaarheid van de bronnen en de nauwkeurigheid van de gepresenteerde informatie.
        </p>
        <label for="slider_input"><p>Op een schaal van (1–100):</p> </label> <br>
        <div class="Range_container">
          <div class="range-slider">
            <div id="slider_thumb" class="range-slider_thumb"></div>
            <div class="range-slider_line">
              <div id="slider_line" class="range-slider_line-fill"></div>
            </div>
            <input id="slider_input" class="range-slider_input" type="range" value="50" min="0" max="100">
          </div>
        </div>
        <div class="container">
          <button id="submitBtn" class="btn inactive">Verstuur</button>
        </div>
      </div>


   

        <footer class="footer">
            <div id="back-to-top" class="footerdiv">
                <div class="scrollwatcher"></div>
                <br>
            </div>
        </footer>
    

        <script type="module">

import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm";

// Initialize Supabase client
const supabaseUrl = 'https://rgoydwojepkjbqzdldft.supabase.co';
const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJnb3lkd29qZXBramJxemRsZGZ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk3MTMyMTYsImV4cCI6MjA1NTI4OTIxNn0.gjk1wM4DUaxAQV9H3zK3hzktav-Pjo40fEIDHR7DTWQ';
const supabaseClient = createClient(supabaseUrl, supabaseKey);

// User ID management functions
function getUserIdFromLocalStorage() {
  return localStorage.getItem("userId");
}
function isUserIdInLocalStorage() {
  return !!getUserIdFromLocalStorage();
}
function generateUUID() {
  return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (c) {
    const r = (Math.random() * 16) | 0,
          v = c === "x" ? r : (r & 0x3) | 0x8;
    return v.toString(16);
  });
}
function setUserIdInLocalStorage() {
  const newId = generateUUID();
  console.log("Generated UserID:", newId);
  localStorage.setItem("userId", newId);
}
if (!isUserIdInLocalStorage()) {
  setUserIdInLocalStorage();
}

async function insertScriptieVertrouwen(sliderValue, timeSpent) {
  const submitDate = new Date().toISOString();
  
  const { data, error } = await supabaseClient
    .from("scriptie_vertrouwen")
    .insert([{
      slider_values: sliderValue,
      article_number: "A1",  // Force article number to always be "B"
      user_id: getUserIdFromLocalStorage(),
      time_spent: timeSpent,
      submit_date: submitDate
    }]);
    
  if (error) {
    console.error("Error inserting into scriptie_vertrouwen:", error);
  } else {
    console.log("Successfully inserted into scriptie_vertrouwen:", data);
  }
}

// Wait for the DOM to fully load
document.addEventListener("DOMContentLoaded", function () {
  // Record page load time (in milliseconds)
  const pageLoadTime = Date.now();

  // === New Slider Functionality ===
  const slider_input = document.getElementById("slider_input");
  const slider_thumb = document.getElementById("slider_thumb");
  const slider_line = document.getElementById("slider_line");
  const submitBtn = document.getElementById("submitBtn");
  let sliderChanged = false; // Initially, the slider has not been changed

  function showSliderValue() {
    slider_thumb.innerHTML = slider_input.value;
    const bulletPosition = slider_input.value / slider_input.max;
    const space = slider_input.offsetWidth - slider_thumb.offsetWidth;
    slider_thumb.style.left = (bulletPosition * space) + 'px';
    slider_line.style.width = slider_input.value + '%';
  }
  // Call once to set up initial position (without marking as changed)
  showSliderValue();
  window.addEventListener("resize", showSliderValue);
  slider_input.addEventListener('input', () => {
    showSliderValue();
    if (!sliderChanged) {
      sliderChanged = true;
      submitBtn.classList.remove("inactive");
      submitBtn.classList.add("active");
    }
  }, false);

  // === Submit Button, Confirmation, Animation & Redirect ===
  submitBtn.addEventListener("click", async () => {
    if (!sliderChanged) {
      const proceed = confirm("You have not changed the slider value from its default. Do you want to submit this number?");
      if (!proceed) {
        return;
      }
    }

    const sliderValue = Number(slider_input.value);
    const timeSpent = Math.floor((Date.now() - pageLoadTime) / 1000);

    console.log("Submit clicked. Slider value:", sliderValue, "Time spent (s):", timeSpent);

    // Store the article read state and score in localStorage
  // Retrieve the correct A article ID
const aOptions = ["A1", "A2", "A3", "A4"];
const selectedAIndex = parseInt(localStorage.getItem("selectedAOption"), 10);
const selectedA = aOptions[selectedAIndex];

// Store the article read state and score in localStorage using the correct key
const articleKey = `article_${selectedA}_read`;
const scoreKey = `article_${selectedA}_score`;

    localStorage.setItem(articleKey, "true");
    localStorage.setItem(scoreKey, sliderValue);

    // Insert data into Supabase with "B" as the article number
    await insertScriptieVertrouwen(sliderValue, timeSpent);

    // Disable the button to prevent duplicate clicks and trigger animation
    submitBtn.disabled = true;
    $(submitBtn).addClass('btn-progress');
    setTimeout(() => {
      $(submitBtn).addClass('btn-fill');
    }, 500);
    setTimeout(() => {
      $(submitBtn).removeClass('btn-fill').addClass('btn-complete');
    }, 4100);

    // Redirect to the main page after submission and animation
    setTimeout(() => {
      window.location.href = "../html/peruse.html";
    }, 4100);
  });

  // === Article Visibility & Toggle ===
  const options = ["A1", "A2", "A3", "A4", "B1", "B2"];
  const storageKey = "selectedAOption";
  let selectedOptionIndex = localStorage.getItem(storageKey);

  if (selectedOptionIndex === null) {
    selectedOptionIndex = Math.floor(Math.random() * options.length);
    localStorage.setItem(storageKey, selectedOptionIndex);
  } else {
    selectedOptionIndex = Number(selectedOptionIndex);
  }

  const selectedOption = options[selectedOptionIndex];
  const selectedElement = document.getElementById(selectedOption);
  if (selectedElement) {
    selectedElement.classList.remove("hidden");
    selectedElement.classList.add("visible");
  } else {
    console.error(`Element with id "${selectedOption}" not found.`);
  }

  const article = document.querySelector(".Longread-ArticleA");
if (article) {
  window.addEventListener("scroll", function () {
    const scrollY = window.scrollY;
    const maxScroll = document.documentElement.scrollHeight - window.innerHeight;
    const fadeStart = maxScroll * 0.3;
    const fadeEnd = maxScroll * 0.5;

    if (scrollY >= fadeStart && scrollY <= fadeEnd) {
      let progress = (scrollY - fadeStart) / (fadeEnd - fadeStart);
      let r = Math.round(69 * (1 - progress));
      let g = Math.round(18 * (1 - progress));
      let b = Math.round(18 * (1 - progress));
      article.style.backgroundColor = `rgb(${r}, ${g}, ${b})`;
    } else if (scrollY > fadeEnd) {
      article.style.backgroundColor = "#000000";
    } else {
      article.style.backgroundColor = "#451212";
    }
  });
} else {
  console.error("Element with class 'Longread-ArticleA' not found.");
}
          
              // === Scroll Watcher Progress Bar ===
              const toggleVisibilityClass = (element, visibleClass) => {
  const isScrollable = document.body.scrollHeight > window.innerHeight;
  const isScrolled = window.scrollY > 0;
  if (isScrollable && isScrolled) {
    element.classList.add(visibleClass);
  } else {
    element.classList.remove(visibleClass);
  }
};

// === Scroll Progress Bar ===
const scrollWatcher = document.querySelector('.scrollwatcher');
if (scrollWatcher) {
  window.addEventListener('scroll', () => {
    const scrollTop = window.scrollY;
    const docHeight = document.documentElement.scrollHeight - window.innerHeight;
    const progress = Math.min(scrollTop / docHeight, 1);
    scrollWatcher.style.transform = `scaleX(${progress})`;
  });
} else {
  console.error("Element with class 'scrollwatcher' not found.");
}

// === Back-to-Top Button ===
const backToTopButton = document.getElementById("back-to-top");
if (backToTopButton) {
  const updateBackToTopVisibility = () => {
    toggleVisibilityClass(backToTopButton, "visible");
  };

  backToTopButton.addEventListener("click", () => {
    window.scrollTo({ top: 0, behavior: "smooth" });
  });

  window.addEventListener("scroll", updateBackToTopVisibility);
  window.addEventListener("resize", updateBackToTopVisibility);
  updateBackToTopVisibility();
} else {
  console.error("Back-to-top element not found.");
}

// === Footer bar or scroll element ===
const footerBar = document.getElementById("footer-bar"); // or .querySelector('.your-class')
if (footerBar) {
  const updateFooterVisibility = () => {
    toggleVisibilityClass(footerBar, "visiblefooter");
  };

  window.addEventListener("scroll", updateFooterVisibility);
  window.addEventListener("resize", updateFooterVisibility);
  updateFooterVisibility();
}
          
              // === Mobile Menu Toggle ===
              const menuToggle = document.getElementById("menu-toggle");
              if (menuToggle) {
                menuToggle.addEventListener("click", function(){
                  const links = document.getElementById("myLinks");
                  if (links) {
                    links.style.display = links.style.display === "block" ? "none" : "block";
                  } else {
                    console.error("Element with id 'myLinks' not found.");
                  }
                });
              }
          
              // === Adjust Widths for .scroll divs ===
              document.querySelectorAll('.scroll div').forEach(div => {
                const contentWidth = Array.from(div.children).reduce((total, child) => total + child.offsetWidth + 20, 0);
                div.style.width = `${contentWidth}px`;
              });
            });

            const slider_input = document.getElementById('slider_input'),
      slider_thumb = document.getElementById('slider_thumb'),
      slider_line = document.getElementById('slider_line');

function showSliderValue() {
  slider_thumb.innerHTML = slider_input.value;
  const bulletPosition = (slider_input.value /slider_input.max),
        space = slider_input.offsetWidth - slider_thumb.offsetWidth;

  slider_thumb.style.left = (bulletPosition * space) + 'px';
  slider_line.style.width = slider_input.value + '%';
}

showSliderValue();
window.addEventListener("resize",showSliderValue);
slider_input.addEventListener('input', showSliderValue, false);

document.addEventListener('DOMContentLoaded', function () {

const button = document.getElementById('aa-button');
const label = document.getElementById('aa-label'); // Although not used in logic, keep if needed elsewhere
const slider = document.getElementById('aa-slider');

// Key for storing the slider value in localStorage
const storageKey = 'userFontSizeSliderValue';

// Font size values corresponding to the slider steps
const fontSizes = [14, 18, 22, 28]; // 4 sizes for the 4 steps (0, 10, 20, 30)

// To store whether the button is expanded or not
let expanded = false;

// --- Helper Functions ---

// Function to apply the font size based on the slider value
function applyFontSize(sliderValue) {
    // Ensure sliderValue is treated as a number
    const value = parseInt(sliderValue, 10);
    // Calculate index, ensuring it's within bounds
    const index = Math.min(Math.max(value / 10, 0), fontSizes.length - 1);
    const fontSize = fontSizes[index];

    // Apply this font size to all relevant <p> elements
    // Note: IDs should be unique. If you have multiple paragraphs, consider using a class instead, e.g., '.article-text'
    const articleTextElements = document.querySelectorAll('#article-text');
    articleTextElements.forEach(p => {
        p.style.fontSize = `${fontSize}px`;
    });

    // Ensure the slider visually matches the applied value
    slider.value = value;
}

// Function to save the current slider value to localStorage
function saveSetting() {
    localStorage.setItem(storageKey, slider.value);
}

// Function to load the setting from localStorage and apply it
function loadAndApplySetting() {
    const savedValue = localStorage.getItem(storageKey);
    let initialSliderValue;

    // Check if a value was found in localStorage
    if (savedValue !== null) {
        initialSliderValue = parseInt(savedValue, 10);
        // Basic validation: ensure it's a number within the slider's range and steps
        if (isNaN(initialSliderValue) || initialSliderValue < slider.min || initialSliderValue > slider.max || initialSliderValue % slider.step !== 0) {
            console.warn('Invalid font size value found in localStorage. Using default.');
            initialSliderValue = 10; // Use default (matches HTML value="10")
            localStorage.removeItem(storageKey); // Optional: Remove the invalid value
        }
    } else {
        // No saved value, use the default from the HTML slider element
        initialSliderValue = parseInt(slider.value, 10); // Default is 10 based on your HTML
    }

    // Apply the loaded or default font size
    applyFontSize(initialSliderValue);
}

// --- Event Listeners ---

button.addEventListener('click', function () {
    // Toggle visibility of the slider
    if (!expanded) {
        slider.classList.remove('hidden'); // Assuming you have CSS rules for .hidden
        button.classList.remove('compact'); // Assuming you have CSS rules for .compact
        expanded = true;
    } else {
        slider.classList.add('hidden');
        button.classList.add('compact');
        expanded = false;
    }
    // Ensure initial state of slider visibility matches 'expanded' status if needed
    // e.g., if slider starts hidden:
    // if (!expanded) slider.classList.add('hidden');
});

slider.addEventListener('input', function () {
    // Apply the font size based on the current slider value
    applyFontSize(this.value);
    // Save the new setting to localStorage immediately
    saveSetting();
});

// --- Initialization ---

// Load the saved setting (or default) when the page loads
loadAndApplySetting();

// Initial setup for button/slider visibility (assuming it starts compact and hidden)
if (!expanded) {
    slider.classList.add('hidden');
    button.classList.add('compact');
}

});

document.addEventListener('DOMContentLoaded', () => {
    // --- Element Selection ---
    const numberElement = document.getElementById('countup-number');
    const orderButton = document.getElementById('order-button');

    // Check if elements exist
    if (!numberElement) {
        console.error('Element with ID "countup-number" not found.');
        return;
    }
    if (!orderButton) {
        console.error('Element with ID "order-button" not found.');
        // return; // Or allow script to continue without button features
    }

    // --- Animation State ---
    let currentAnimationFrameId = null;

    // --- Reusable Animation Function ---
    function animateCounter(element, targetValue, duration) {
        if (currentAnimationFrameId) {
            cancelAnimationFrame(currentAnimationFrameId);
        }
        let startValue = 0;
        let startTime = null;
        const currentText = element.textContent || '';
        const cleanedText = currentText.replace(/€|\s/g, '').replace(/\./g, '').replace(',', '.');
        const parsedValue = parseFloat(cleanedText);
        if (!isNaN(parsedValue)) {
            startValue = parsedValue;
        } else {
            console.warn(`Could not parse number from "${currentText}", starting from 0.`);
        }

        function easeInCubic(t) { return t * t * t; }

        const step = (timestamp) => {
            if (!startTime) startTime = timestamp;
            const elapsedTime = timestamp - startTime;
            let progress = Math.min(elapsedTime / duration, 1);
            const easedProgress = easeInCubic(progress);
            const currentValue = startValue + (targetValue - startValue) * easedProgress;
            element.textContent = `€${Math.ceil(currentValue).toLocaleString('nl-NL', { maximumFractionDigits: 0 })}`;
            if (progress < 1) {
                currentAnimationFrameId = requestAnimationFrame(step);
            } else {
                element.textContent = `€${targetValue.toLocaleString('nl-NL', { maximumFractionDigits: 0 })}`;
                currentAnimationFrameId = null;
                startTime = null;
            }
        };
        currentAnimationFrameId = requestAnimationFrame(step);
    }

    // --- Intersection Observer for Initial Animation ---
    const observerOptions = {
        root: null,
        rootMargin: "-40% 0px -40% 0px",
        threshold: 0
    };
    const startAnimationCallback = (entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting && currentAnimationFrameId === null) {
                 const initialTarget = parseInt(numberElement.getAttribute('data-target'), 10) || 1000;
                 const initialDuration = 2000;
                 animateCounter(numberElement, initialTarget, initialDuration);
                 observer.unobserve(entry.target);
            }
        });
    };
    const observer = new IntersectionObserver(startAnimationCallback, observerOptions);
    if(numberElement){ // Observe only if element exists
        observer.observe(numberElement);
    }


    // --- Button Click Listener ---
    if(orderButton) { // Add listener only if button exists
        orderButton.addEventListener('click', () => {
             const newTarget = 15000;
             const clickDuration = 2500;

             console.log("Order button clicked, animating and updating style."); // For debugging

             // 1. Trigger the number animation
             animateCounter(numberElement, newTarget, clickDuration);

             // --- Style and State Updates for Button ---
             // 2. Change button color class
             orderButton.classList.remove('btn-primary'); // Remove blue
             orderButton.classList.add('btn-success');   // Add green

             // 3. Change button text
             orderButton.textContent = 'Gereserveerd';

             // 4. Disable the button
             orderButton.disabled = true;
             // --- End Style Updates ---
        });
    }

}); // End DOMContentLoaded // End DOMContentLoaded // End DOMContentLoaded
          
    </script>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>
</html>
